<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="content">

    <style>
        .form-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 25px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-container h2 {
            text-align: center;
            margin-bottom: 25px;
        }
        .form-actions {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 20px;
        }

        /* Estilos para el botón Grabar (verde) y Cancelar (gris) */
        .btn-grabar {
            background-color: #28a745;
            color: white;
            font-weight: bold;
            border: none;
            font-size: 16px; /* Coincide con el estilo de login */
        }
        .btn-grabar:hover {
            background-color: #218838;
            color: white;
        }
        .btn-cancelar {
            background-color: #6c757d;
            color: white;
            font-weight: bold;
            border: none;
            font-size: 16px;
        }
        .btn-cancelar:hover {
            background-color: #5a6268;
            color: white;
        }
    </style>

    <div class="form-container">
        <h2 th:text="${pageTitle}">Registrar Visita</h2>

        <form th:action="@{/visitas/guardar}" th:object="${visita}" method="post">

            <input type="hidden" th:field="*{movOrden}" />
            <input type="hidden" th:field="*{movCentro}" />

            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="nombre" class="form-label">Nombre</label>
                    <input type="text" class="form-control" id="nombre" th:field="*{movNombre}" placeholder="Nombre del visitante" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="apellido1" class="form-label">Primer Apellido</label>
                    <input type="text" class="form-control" id="apellido1" th:field="*{movApellidoUno}" placeholder="Primer apellido" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="apellido2" class="form-label">Segundo Apellido</label>
                    <input type="text" class="form-control" id="apellido2" th:field="*{movApellidoDos}" placeholder="Segundo apellido">
                </div>
            </div>

            <div class="mb-3">
                <label for="procedencia" class="form-label">Procede</label>
                <input type="text" class="form-control" id="procedencia" th:field="*{movProcedencia}" placeholder="Indicar de donde procede solo si no es personal del ITC o empresa de alquiler">
            </div>

            <div class="row">
                <div class="col-md-8 mb-3">
                    <label for="destino" class="form-label">Destino</label>
                    <select class="form-select" id="destino" th:field="*{movDestino}">
                        <option value="" disabled selected>-- Seleccione Destino (Empresa Alquiler) --</option>
                        <option th:each="alq : ${alquileres}"
                                th:value="${alq.alqEmpresa}"
                                th:text="${alq.alqEmpresa}"></option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="planta" class="form-label">Planta</label>
                    <select class="form-select" id="planta" th:field="*{movPlanta}">
                        <option value="" disabled selected>-- Seleccione Planta --</option>
                        <option th:each="pl : ${plantas}"
                                th:value="${pl.pltPlanta}"
                                th:text="${pl.pltPlanta}"></option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="fecha" class="form-label">Fecha</label>
                    <input type="text" class="form-control" id="fecha"
                           th:placeholder="${#temporals.format(T(java.time.LocalDate).now(), 'dd/MM/yyyy')}" disabled>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="hora" class="form-label">Hora</label>
                    <input type="text" class="form-control" id="hora"
                           th:placeholder="${#temporals.format(T(java.time.LocalTime).now(), 'HH:mm')}" disabled>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8 mb-3">
                    <label for="motivo" class="form-label">Motivo de la Visita</label>
                    <textarea class="form-control" id="motivo" rows="1" th:field="*{movMotivo}" placeholder="Motivo"></textarea>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="vehiculo" class="form-label">Vehículo</label>
                    <select class="form-select" id="vehiculo" th:field="*{movVehiculo}">
                        <option value="No" selected>No</option>
                        <option value="Si">Si</option>
                    </select>
                </div>
            </div>

            <div class="form-actions">
                <a th:href="@{/panel}" class="btn btn-cancelar" style="width: 30%;">Cancelar</a>
                <button type="submit" class="btn btn-grabar w-75">Grabar</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>